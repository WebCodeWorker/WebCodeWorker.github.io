(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ca755ea"],{1462:function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.d(t,"a",(function(){return n}))},"2f14":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));o("b4fb"),o("77ad");var n=o("1462"),s=o("a340"),a=function(){function e(){Object(n["a"])(this,e)}return Object(s["a"])(e,[{key:"queryString",value:function(e){var t="";for(var o in e)t+="".concat(o,"=").concat(e[o],"&");return t.slice(0,-1)}}]),e}(),r=new a},"5e7a":function(e,t,o){e.exports=o.p+"img/accountBg.c4c038cf.png"},a340:function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}o.d(t,"a",(function(){return s}))},a55b:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-box"},[n("van-nav-bar",{attrs:{border:!1},on:{"click-right":e.goHome},scopedSlots:e._u([{key:"left",fn:function(){return[n("div",{staticClass:"left-text"},[n("div",{staticClass:"logo"},[n("img",{staticClass:"auto-img",attrs:{src:o("5e7a"),alt:""}})]),n("div",{staticClass:"logo-title"},[e._v("Luckin Coffee")])])]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticClass:"close-box"},[e._v("先逛一逛")])]},proxy:!0}])}),n("div",{staticClass:"login-form"},[n("div",{staticClass:"title"},[e._v("欢迎回来!")]),n("div",{staticClass:"en-title"},[e._v("Please login to your accounts")]),n("div",{staticClass:"login-form-box"},[n("van-form",[n("van-field",{attrs:{"left-icon":"phone-o",placeholder:"手机号"},model:{value:e.userLoginInfo.phone,callback:function(t){e.$set(e.userLoginInfo,"phone",t)},expression:"userLoginInfo.phone"}}),n("van-field",{attrs:{type:e.isPassword?"password":"text","left-icon":"lock",placeholder:"密码","right-icon":e.isPassword?"closed-eye":"eye-o"},on:{"click-right-icon":e.viewPassword},model:{value:e.userLoginInfo.password,callback:function(t){e.$set(e.userLoginInfo,"password",t)},expression:"userLoginInfo.password"}}),n("div",{staticClass:"clearfix forgot"},[n("span",{staticClass:"fr",on:{click:function(t){return e.goPage("Forgot")}}},[e._v("忘记密码?")])]),n("div",{staticClass:"login-btn"},[n("van-button",{attrs:{round:"",block:"",type:"info",color:"linear-gradient(to right, #0C34BA, #0161af)","native-type":"submit"},on:{click:e.login}},[e._v("登 录")])],1),n("div",{staticClass:"login-btn"},[n("van-button",{attrs:{round:"",block:"",type:"default"},on:{click:e.showPopup}},[e._v("注 册")]),n("van-popup",{style:{height:"50%"},attrs:{round:"",position:"bottom",closeable:"","close-icon-position":"top-right"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticClass:"register-box"},[n("h1",[e._v("注册")]),n("van-field",{attrs:{label:"手机号",placeholder:"11位手机号"},model:{value:e.userRegisterInfo.phone,callback:function(t){e.$set(e.userRegisterInfo,"phone",t)},expression:"userRegisterInfo.phone"}}),n("van-field",{attrs:{label:"昵称",placeholder:"1-10位昵称"},model:{value:e.userRegisterInfo.nickName,callback:function(t){e.$set(e.userRegisterInfo,"nickName",t)},expression:"userRegisterInfo.nickName"}}),n("van-field",{attrs:{label:"密码",type:e.isPassword?"password":"text",placeholder:"6-16位密码且以字母开头","right-icon":e.isPassword?"closed-eye":"eye-o"},on:{"click-right-icon":e.viewPassword},model:{value:e.userRegisterInfo.password,callback:function(t){e.$set(e.userRegisterInfo,"password",t)},expression:"userRegisterInfo.password"}}),n("van-button",{attrs:{round:"",color:"#0C34BA",size:"large","native-type":"submit"},on:{click:e.register}},[e._v("注 册")])],1)])],1)],1)],1)])],1)])},s=[],a=(o("c25d"),o("e3a8")),r=o("2f14"),i={data:function(){return{userLoginInfo:{phone:"",password:""},userRegisterInfo:{phone:"",nickName:"",password:""},isPassword:!0,isRegister:!1,show:!1,password:""}},methods:{goPage:function(e){this.$router.push({name:"Forgot"})},goHome:function(){this.$router.push({name:"Home"})},viewPassword:function(){this.isPassword=!this.isPassword},showPopup:function(){this.show=!0},register:function(){var e=this,t=this.userRegisterInfo,o={phone:{value:t.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机号格式不正确"},nickName:{value:t.nickName,reg:/^[\w\u4e00-\u9fa5]{1,10}$/,errorMsg:"昵称格式不正确"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码格式不正确"}};if(a["a"].valid(o)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var n=Object.assign({},t);n.appkey="U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=";var s=r["a"].queryString(n);this.axios({method:"POST",url:"http://www.kangliuyong.com:10002/register",data:s}).then((function(o){if(e.$toast.clear(),100==o.data.code)for(var n in e.show=!1,e.$notify({type:"success",message:o.data.msg}),t)t[n]="";else e.$notify({type:"warning",message:o.data.msg})})).catch((function(t){e.$toast.clear()}))}},login:function(){var e=this,t=this.userLoginInfo,o={phone:{value:t.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机格式不正确"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码格式不正确"}};if(a["a"].valid(o)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var n=Object.assign({},t);n.appkey=this.appkey;var s=r["a"].queryString(n);this.axios({method:"POST",url:"/login",data:s}).then((function(t){e.$toast.clear(),200==t.data.code?(localStorage.setItem("CSTK",t.data.token),e.$router.push({name:"Home"})):e.$notify({type:"warning",message:t.data.msg})})).catch((function(t){e.$toast.clear()}))}}}},c=i,l=o("9ca4"),u=Object(l["a"])(c,n,s,!1,null,null,null);t["default"]=u.exports},b4fb:function(e,t,o){"use strict";var n=o("1c8b"),s=o("efe2"),a=o("74e7"),r=o("a719"),i=o("3553"),c=o("d88d"),l=o("1bbd"),u=o("1ca1"),f=o("1ea7"),d=o("90fb"),g=o("f594"),p=d("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",w=g>=51||!s((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=f("concat"),m=function(e){if(!r(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},y=!w||!b;n({target:"Array",proto:!0,forced:y},{concat:function(e){var t,o,n,s,a,r=i(this),f=u(r,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?r:arguments[t],m(a)){if(s=c(a.length),d+s>v)throw TypeError(h);for(o=0;o<s;o++,d++)o in a&&l(f,d,a[o])}else{if(d>=v)throw TypeError(h);l(f,d++,a)}return f.length=d,f}})},c25d:function(e,t,o){},e3a8:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("1462"),s=o("a340"),a=(o("d296"),o("0e64")),r=o("0261");r["a"].use(a["a"]);var i=function(){function e(){Object(n["a"])(this,e)}return Object(s["a"])(e,[{key:"valid",value:function(e){for(var t in e)if(!e[t].reg.test(e[t].value))return Object(a["a"])({type:"warning",message:e[t].errorMsg}),!1;return!0}}]),e}(),c=new i}}]);
//# sourceMappingURL=chunk-5ca755ea.ce786f11.js.map